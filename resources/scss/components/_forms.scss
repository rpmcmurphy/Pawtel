// ==========================================
// FORM COMPONENTS
// ==========================================

.form-control {
    @include input-base;

    &.is-invalid {
        border-color: $danger;
        box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
    }

    &.is-valid {
        border-color: $success;
        box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
    }
}

.form-select {
    @include input-base;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m1 6 7 7 7-7'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    background-size: 16px 12px;
    padding-right: 2.25rem;
}

.form-group {
    @include form-group;
}

.form-floating {
    position: relative;

    .form-control {
        height: calc(3.5rem + 2px);
        padding: 1rem 0.75rem;

        &:focus,
        &:not(:placeholder-shown) {
            padding-top: 1.625rem;
            padding-bottom: 0.625rem;
        }
    }

    label {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        padding: 1rem 0.75rem;
        pointer-events: none;
        border: 1px solid transparent;
        transform-origin: 0 0;
        transition: opacity 0.1s ease-in-out, transform 0.1s ease-in-out;
    }

    .form-control:focus~label,
    .form-control:not(:placeholder-shown)~label {
        opacity: 0.65;
        transform: scale(0.85) translateY(-0.5rem) translateX(0.15rem);
    }
}

// Custom checkbox and radio
.form-check-input {
    &:checked {
        background-color: $primary;
        border-color: $primary;
    }

    &:focus {
        border-color: rgba(236, 72, 153, 0.5);
        box-shadow: 0 0 0 0.25rem rgba(236, 72, 153, 0.25);
    }
}

// File upload styling
.form-control[type="file"] {
    padding: 0.375rem 0.75rem;

    &::file-selector-button {
        padding: 0.375rem 0.75rem;
        margin: -0.375rem -0.75rem;
        margin-inline-end: 0.75rem;
        color: $dark;
        background-color: var(--gray-200);
        pointer-events: none;
        border-color: inherit;
        border-style: solid;
        border-width: 0;
        border-inline-end-width: 1px;
        border-radius: 0;
        transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out;
    }

    &:hover:not(:disabled):not([readonly])::file-selector-button {
        background-color: var(--gray-300);
    }
}

// Search form
.search-form {
    position: relative;

    .search-input {
        padding-right: 3rem;
    }

    .search-btn {
        position: absolute;
        right: 0.5rem;
        top: 50%;
        transform: translateY(-50%);
        border: none;
        background: none;
        color: $primary;
        padding: 0.25rem 0.5rem;
    }
}